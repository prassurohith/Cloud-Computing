AZURE NETWORKING:
======================

1.Azure Virtual Network:
==========================
- Azure VNet is similar to a traditional network that you'd operate in your own data center, 
  but brings with it additional benefits of Azure's infrastructure such as scale, availability, and isolation.
  
Create:
-------
1.1. Using Azure Portal:
--------------------------
1. Select Create a resource in the upper left-hand corner of the portal.
2. In the search box, enter Virtual Network. Select Virtual Network in the search results.
3. In the Virtual Network page, select Create.
4. In Create virtual network, enter or select this information in the Basics tab.
5. Select the IP Addresses tab, or select the Next: IP Addresses button at the bottom of the page.
6. In IPv4 address space, select the existing address space and change it to 10.1.0.0/16.
7. Select + Add subnet, then enter MySubnet for Subnet name and 10.1.0.0/24 for Subnet address range.
8. Select Add.
9. Select the Security tab, or select the Next: Security button at the bottom of the page.
10. Under BastionHost, select Enable. Enter this information:
11. Select the Review + create tab or select the Review + create button.
12. Select Create.


1.2. Using Azure Cli:
-----------------------
RG Create:
# az group create --name CreateVNetQS-rg --location eastus
VNet Create:
# az network vnet create --name myVNet --resource-group CreateVNetQS-rg --subnet-name default

1.3. Using Terraform:
------------------------
provider "azurerm" {
  features {}
}

resource "azurerm_resource_group" "example" {
  name     = "my-resources"
  location = "West Europe"
}

module "vnet" {
  source              = "Azure/vnet/azurerm"
  resource_group_name = azurerm_resource_group.example.name
  address_space       = ["10.0.0.0/16"]
  subnet_prefixes     = ["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]
  subnet_names        = ["subnet1", "subnet2", "subnet3"]

  subnet_service_endpoints = {
    subnet2 = ["Microsoft.Storage", "Microsoft.Sql"],
    subnet3 = ["Microsoft.AzureActiveDirectory"]
  }

  tags = {
    environment = "dev"
    costcenter  = "it"
  }

  depends_on = [azurerm_resource_group.example]
}



2. Azure Virtual Subnets:
-------------------------
- Subnets: Subnets enable you to segment the virtual network into one or more sub-networks and allocate a portion of the virtual network's 
  address space to each subnet. You can then deploy Azure resources in a specific subnet.

Create Subnets:
---------------
2.1. Create a Subnet Using GUI:
---------------------------------
1. Go to the Azure portal to view your virtual networks. Search for and select Virtual networks.
2. Select the name of the virtual network you want to add a subnet to.
3. From Settings, select Subnets > Subnet.
4. In the Add subnet dialog box, enter values for the following settings:
5. To add the subnet to the virtual network that you selected, select OK.

2.2. Using Azure Cli:
-----------------------
RG Create:
# az group create --name CreateVNetQS-rg --location eastus
VNet Create:
# az network vnet create --name myVNet --resource-group CreateVNetQS-rg --subnet-name default

2.3. Using Terraform:
------------------------
provider "azurerm" {
  features {}
}

resource "azurerm_resource_group" "example" {
  name     = "my-resources"
  location = "West Europe"
}

module "vnet" {
  source              = "Azure/vnet/azurerm"
  resource_group_name = azurerm_resource_group.example.name
  address_space       = ["10.0.0.0/16"]
  subnet_prefixes     = ["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]
  subnet_names        = ["subnet1", "subnet2", "subnet3"]

  subnet_service_endpoints = {
    subnet2 = ["Microsoft.Storage", "Microsoft.Sql"],
    subnet3 = ["Microsoft.AzureActiveDirectory"]
  }

  tags = {
    environment = "dev"
    costcenter  = "it"
  }

  depends_on = [azurerm_resource_group.example]
}


3. V-NET Peearing:
-------------------
- Virtual network peering enables you to seamlessly connect two or more Virtual Networks in Azure.

Create V-NEt Peearings:
------------------------
3.1. Using Aure GUI:
--------------------
1. In the search box at the top of the Azure portal, enter Virtual networks in the search box. When Virtual networks appear in the search
   results, select it. Don't select Virtual networks (classic), as you can't create a peering from a virtual network deployed through the classic deployment model.
2. Select the virtual network in the list that you want to create a peering for.
3. Select Peerings under Settings and then select + Add.
4. Enter or select values for the following settings:
5. Select Add to configure the peering to the virtual network you selected. After a few seconds, select the Refresh button and the peering status 
   will change from Updating to Connected.

3.2. Using Azure Cli:
----------------------
vNet Peering Create:
# az network vnet peering create -g MyResourceGroup -n MyVnet1ToMyVnet2 --vnet-name MyVnet1 --remote-vnet MyVnet2Id --allow-vnet-access

3.3. Using Terraform:
---------------------
resource "azurerm_resource_group" "example" {
  name     = "peeredvnets-rg"
  location = "West Europe"
}

resource "azurerm_virtual_network" "example-1" {
  name                = "peternetwork1"
  resource_group_name = azurerm_resource_group.example.name
  address_space       = ["10.0.1.0/24"]
  location            = azurerm_resource_group.example.location
}

resource "azurerm_virtual_network" "example-2" {
  name                = "peternetwork2"
  resource_group_name = azurerm_resource_group.example.name
  address_space       = ["10.0.2.0/24"]
  location            = azurerm_resource_group.example.location
}

resource "azurerm_virtual_network_peering" "example-1" {
  name                      = "peer1to2"
  resource_group_name       = azurerm_resource_group.example.name
  virtual_network_name      = azurerm_virtual_network.example-1.name
  remote_virtual_network_id = azurerm_virtual_network.example-2.id
}

resource "azurerm_virtual_network_peering" "example-2" {
  name                      = "peer2to1"
  resource_group_name       = azurerm_resource_group.example.name
  virtual_network_name      = azurerm_virtual_network.example-2.name
  remote_virtual_network_id = azurerm_virtual_network.example-1.id
}



4. Azure Firewall:
--------------------
- What is Azure Firewall?

. Azure Firewall is a cloud-native and intelligent network firewall security service that provides the best of breed threat protection for your 
  cloud workloads running in Azure. It's a fully stateful, firewall as a service with built-in high availability and unrestricted cloud scalability. 
  It provides both east-west and north-south traffic inspection.
  
 2 Types:
 ---------
 - Azure Firewall Standard.
 - Azure Firewall Premium.














